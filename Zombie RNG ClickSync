; Variables generales
toggle_auto_click := false  ; Estado del clic infinito (para "T")
toggle_auto_press := false  ; Estado de presionar y hacer clic (para "E")
hotkey_t_enabled := false   ; Estado del hotkey "T"
hotkey_e_enabled := false   ; Estado del hotkey "E"
hold_left_click_enabled := false ; Estado del clic izquierdo mantenido ("F")

; Reproducir sonido al abrir el script
SoundPlay, C:\Windows\Media\Windows Notify.wav

; Mostrar un mini menú al iniciar
Gui, +AlwaysOnTop -Caption +ToolWindow
Gui, Color, 0x0A0A52  ; Color azul marino súper oscuro (hexadecimal: #0A0A52)
Gui, Font, s20 wBold, Verdana  ; Tamaño y estilo de fuente
Gui, Add, Text, Center cWhite, V-3.2  ; Texto centrado en color blanco con versión actualizada
Gui, Show, AutoSize Center
Sleep, 1000  ; Mostrar el menú durante 1 segundo
Gui, Destroy  ; Cerrar el mini menú

; Hotkey para cerrar el script con Control + Alt + X
^!x::
SoundPlay, C:\Windows\Media\Windows Notify.wav  ; Reproduce el sonido antes de cerrarse
ExitApp  ; Comando para salir completamente del script
return

; Hotkey para alternar módulos con F4
F4::
hotkey_t_enabled := !hotkey_t_enabled  ; Activa/desactiva "T"
hotkey_e_enabled := !hotkey_e_enabled  ; Activa/desactiva "E"
hold_left_click_enabled := !hold_left_click_enabled  ; Activa/desactiva clic izquierdo mantenido ("F")

; Mostrar el estado de activación/desactivación con ToolTip
if (hotkey_t_enabled || hotkey_e_enabled || hold_left_click_enabled) {
    ToolTip, On, % (A_ScreenWidth // 2 - 20), % (A_ScreenHeight // 2 - 20)  ; Centrar el ToolTip en pantalla
} else {
    ToolTip, Off, % (A_ScreenWidth // 2 - 20), % (A_ScreenHeight // 2 - 20)  ; Centrar el ToolTip en pantalla
}

Sleep, 500  ; Mostrar el ToolTip durante 0.5 segundos
ToolTip  ; Ocultar el ToolTip
return

; Funcionalidad del hotkey "T" (clic infinito y tecla Espacio)
ToggleAutoClick:
toggle_auto_click := !toggle_auto_click  ; Cambia entre activado y desactivado
if (toggle_auto_click) {
    SetTimer, AutoClick, 10  ; Activa el bucle de clics
    SetTimer, AutoSpacePress, 5000  ; Activa el temporizador para la barra espaciadora (cada 5 segundos)
} else {
    SetTimer, AutoClick, Off  ; Detiene el bucle de clics
    SetTimer, AutoSpacePress, Off  ; Detiene el temporizador para la barra espaciadora
}
return

AutoClick:
if (!toggle_auto_click) {
    SetTimer, AutoClick, Off  ; Detiene el temporizador si está desactivado
    return
}
; Secuencia de clics
Click3Times(636, 427)
Click3Times(637, 686)
Click3Times(966, 428)
Click3Times(967, 705)
Click3Times(1291, 441)
Click3Times(1289, 705)
return

Click3Times(x, y) {
    ; Función para hacer 3 clics en una posición
    Loop 3 {
        Click, %x%, %y%
        Sleep, 20
    }
}

; Presionar tecla Espacio continuamente cada 5 segundos mientras "T" esté activo
AutoSpacePress:
if (toggle_auto_click) {  ; Verifica si "T" está activo
    Send, {Space}  ; Simula presionar la tecla Espacio
}
return

; Funcionalidad del hotkey "E" (solo hacer clic)
ToggleAutoPress:
toggle_auto_press := !toggle_auto_press  ; Cambia entre activado y desactivado
if (toggle_auto_press) {
    SetTimer, AutoPressAndClick, 10  ; Activa el bucle de presionar y hacer clic
} else {
    SetTimer, AutoPressAndClick, Off  ; Detiene el bucle
}
return

AutoPressAndClick:
if (!toggle_auto_press) {
    SetTimer, AutoPressAndClick, Off  ; Detiene el temporizador si está desactivado
    return
}
; Realiza solo clics
Click
Sleep, 20
return

; Funcionalidad para mantener clic izquierdo indefinidamente (F)
ToggleHoldLeftClick:
hold_left_click := !hold_left_click  ; Cambia entre activado y desactivado
if (hold_left_click) {
    Send {LButton Down}  ; Mantiene presionado el clic izquierdo
} else {
    Send {LButton Up}  ; Suelta el clic izquierdo
}
return
